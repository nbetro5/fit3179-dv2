{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": "New Car Sales by State in Australia",
  "width": 600,
  "height": 600,
  "data": {
    "url": "https://raw.githubusercontent.com/nbetro5/fit3179/main/australian-states.json",
    "format": {"type": "json", "property": "features"}
  },
      "params": [
    {
      "name": "selectedYear",
      "value": 2025,
      "bind": {
        "input": "range", "min": 2020, "max": 2025, "step": 1
      }
    },
    {
      "name": "valueType",
      "value": "Sales per Capita",
      "bind": {
        "input": "select",
        "options": ["Total", "per Capita"],
        "labels": ["Total Sales", "Sales per Capita"]
      }
    }
  ],
  "transform": [
    {"filter": "datum.Year == selectedYear"},
    {"filter": "datum.ValueType == valueType"},
    {"lookup": "properties.STATE_NAME",
      "from": {
        "data": { // replace with github url
  },
  "key": "State",
  "fields": ["ValueType"]
      }
    }
  ],
  "projection": {"type": "albers",
  "rotate": [-132.8906, 0, 0],
  "center": [0, -27.4422],
  "parallels": [-39.2069, -15.6778],
  "scale": 1000},
  "mark": {"type": "geoshape"},
    "encoding": {
    "color": {
    "datum": {"expr": "valueType"},
    "type": "quantitative",
    "scale": {"type": "linear", "range": ["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"]}
    },
    "tooltip": [
    {"field": "properties.STATE_NAME", "type": "nominal", "title":
    "State"},
    {"datum": {"expr: "valueType"}, "type": "quantitative", "title": "Sales"}
    ]
    }
  }
