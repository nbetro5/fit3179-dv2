{
  "$schema": "https://vega.github.io/schema/vega-lite/v6.json",
  "title": {"text": "Top 10 Most Popular Car Brands in Australia"},
  "width": "container",
  "height": "container",
  "data": {"url": "https://raw.githubusercontent.com/nbetro5/fit3179-dv2/main/makes.csv", "format": {"type": "csv"}},
  "params": [
    {
      "name": "selectedYear",
      "value": 2025,
      "bind": {
        "input": "range",
        "min": 2020,
        "max": 2025,
        "step": 1,
        "name": "Select Year:"
      }
    }
  ],
  "transform": [
    {"filter": "datum.Year == selectedYear"}
  ],
  "layer":[
    {"mark": {"type": "bar", "tooltip": true},
    "encoding": {
      "x": {"field": "Make", "type": "nominal", "sort": "-y", "title": "Car Make",
      "axis": {
        "labelFont": "Arial",
        "labelFontSize": 12,
        "labelAngle": 0,
        "titleFont": "Arial",
        "titleFontSize": 14
      }},
      "y": {"field": "Sales", "type": "quantitative", "title": "Units Sold", "axis": {
        "labelFont": "Arial",
        "labelFontSize": 12,
        "titleFont": "Arial",
        "titleFontSize": 14
      }}
    }
    },
    {"mark": {"type": "text"},
        "encoding": {
          "x": {"value": 150},
          "y": {"value": 20},
          "text": {"value": "Toyota is consistently the most popular brand in Australia"}
        }
    }
  ]
}